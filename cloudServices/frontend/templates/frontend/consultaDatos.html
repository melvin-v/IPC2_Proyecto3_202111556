<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Enviar consumos</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi" crossorigin="anonymous">
    <style type="text/css">
        body{
        background-color: #330033;
        background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='278' height='278' viewBox='0 0 800 800'%3E%3Cg fill='none' stroke='%23404' stroke-width='3.2'%3E%3Cpath d='M769 229L1037 260.9M927 880L731 737 520 660 309 538 40 599 295 764 126.5 879.5 40 599-197 493 102 382-31 229 126.5 79.5-69-63'/%3E%3Cpath d='M-31 229L237 261 390 382 603 493 308.5 537.5 101.5 381.5M370 905L295 764'/%3E%3Cpath d='M520 660L578 842 731 737 840 599 603 493 520 660 295 764 309 538 390 382 539 269 769 229 577.5 41.5 370 105 295 -36 126.5 79.5 237 261 102 382 40 599 -69 737 127 880'/%3E%3Cpath d='M520-140L578.5 42.5 731-63M603 493L539 269 237 261 370 105M902 382L539 269M390 382L102 382'/%3E%3Cpath d='M-222 42L126.5 79.5 370 105 539 269 577.5 41.5 927 80 769 229 902 382 603 493 731 737M295-36L577.5 41.5M578 842L295 764M40-201L127 80M102 382L-261 269'/%3E%3C/g%3E%3Cg fill='%23505'%3E%3Ccircle cx='769' cy='229' r='10'/%3E%3Ccircle cx='539' cy='269' r='10'/%3E%3Ccircle cx='603' cy='493' r='10'/%3E%3Ccircle cx='731' cy='737' r='10'/%3E%3Ccircle cx='520' cy='660' r='10'/%3E%3Ccircle cx='309' cy='538' r='10'/%3E%3Ccircle cx='295' cy='764' r='10'/%3E%3Ccircle cx='40' cy='599' r='10'/%3E%3Ccircle cx='102' cy='382' r='10'/%3E%3Ccircle cx='127' cy='80' r='10'/%3E%3Ccircle cx='370' cy='105' r='10'/%3E%3Ccircle cx='578' cy='42' r='10'/%3E%3Ccircle cx='237' cy='261' r='10'/%3E%3Ccircle cx='390' cy='382' r='10'/%3E%3C/g%3E%3C/svg%3E");
        }
    </style>
</head>
  <body>
    <div class="container">
        <div class="p-3 mb-2 bg-warning text-dark rounded" style="margin-top: 150px;">
            <div class="row">
                <div class="col offset-5">
                    <span class="badge text-bg-info" style="margin-top: 30px;">
                        <h2>RECURSOS</h2>
                    </span>
                </div>
            </div>
            <div class="row" style="margin-top: 20px;">
                <div class="col-8 offset-2">
                    <table class="table table-dark table-sm table-bordered">
                        <thead>
                          <tr>
                            <th scope="col">ID</th>
                            <th scope="col">Nombre</th>
                            <th scope="col">Abreviatura</th>
                            <th scope="col">Metrica</th>
                            <th scope="col">Tipo</th>
                            <th scope="col">Valor por hora</th>
                          </tr>
                        </thead>
                        <tbody class="table-group-divider">
                          {% for recurso in configuraciones.lista_recursos %}
                            <tr>
                              <th scope="row">{{recurso.id}}</th>
                              <td>{{recurso.nombre}}</td>
                              <td>{{recurso.abreviatura}}</td>
                              <td>{{recurso.metrica}}</td>
                              <td>{{recurso.tipo}}</td>
                              <td>{{recurso.valorXhora}}</td>
                            </tr>
                          {% endfor %}
                        </tbody>
                      </table>
                </div>
            </div>
            <div class="row">
              <div class="col offset-5">
                  <span class="badge text-bg-info" style="margin-top: 30px;">
                      <h2>CATEGORIAS</h2>
                  </span>
              </div>
          </div>
          {% for categoria in configuraciones.lista_categorias %}
            <div class="row justify-content-center align-items-center g-2" style="margin-top: 50px;">
              <div class="col-8">
              <table class="table table-dark table-sm table-bordered">
                <thead>
                  <tr>
                    <th scope="col">ID</th>
                    <th scope="col">Nombre</th>
                    <th scope="col">Descripcion</th>
                    <th scope="col">Carga de trabajo</th>
                  </tr>
                </thead>
                <tbody class="table-group-divider">
                  <tr>
                    <th scope="row">{{categoria.id}}</th>
                    <td>{{categoria.nombre}}</td>
                    <td>{{categoria.descripcion}}</td>
                    <td>{{categoria.carga_trabajo}}</td>
                  </tr>
                </tbody>
              </table>
              </div>
            </div>


                {% for configuracion in  categoria.lista_configuraciones%}
                  <div class="row justify-content-center align-items-center g-2">
                    <div class="col-7">
                    <table class="table table-primary table-sm table-bordered">
                      <thead>
                        <tr>
                          <th scope="col">ID</th>
                          <th scope="col">Nombre</th>
                          <th scope="col">Descripcion</th>
                        </tr>
                      </thead>
                      <tbody class="table-group-divider">
                        <tr>
                          <th scope="row">{{configuracion.id}}</th>
                          <td>{{configuracion.nombre}}</td>
                          <td>{{configuracion.descripcion}}</td>
                        </tr>
                      </tbody>
                    </table>
                    </div>
                  </div>

                  {% for recurso in configuracion.lista_recursos %}
                    <div class="row justify-content-center align-items-center g-2">
                      <div class="col-6">
                      <table class="table table-secondary table-sm table-bordered">
                        <thead>
                          <tr>
                            <th scope="col">ID</th>
                            <th scope="col">Cantidad</th>
                          </tr>
                        </thead>
                        <tbody class="table-group-divider">
                          <tr>
                            <th scope="row">{{recurso.id}}</th>
                            <td>{{recurso.cantidad}}</td>
                        </tbody>
                      </table>
                      </div>
                    </div>
                  {% endfor %}
                {% endfor %}

          {% endfor %}
          <div class="row">
            <div class="col offset-5">
                <span class="badge text-bg-info" style="margin-top: 30px;">
                    <h2>CLIENTES</h2>
                </span>
            </div>
          </div>
          {% for cliente in configuraciones.lista_clientes %}
            <div class="row justify-content-center align-items-center g-2" style="margin-top: 50px;">
              <div class="col-8">
              <table class="table table-dark table-sm table-bordered">
                <thead>
                  <tr>
                    <th scope="col">NIT</th>
                    <th scope="col">Nombre</th>
                    <th scope="col">Usuario</th>
                    <th scope="col">Clave</th>
                    <th scope="col">Direccion</th>
                    <th scope="col">Correo electronico</th>
                  </tr>
                </thead>
                <tbody class="table-group-divider">
                  <tr>
                    <th scope="row">{{categoria.nit}}</th>
                    <td>{{cliente.nombre}}</td>
                    <td>{{cliente.usuario}}</td>
                    <td>{{cliente.clave}}</td>
                    <td>{{cliente.direccion}}</td>
                    <td>{{cliente.correo_electronico}}</td>
                  </tr>
                </tbody>
              </table>
              </div>
            </div>
            {% for instancia in cliente.lista_instancias %}
              <div class="row justify-content-center align-items-center g-2">
                <div class="col-7">
                <table class="table table-primary table-sm table-bordered">
                  <thead>
                    <tr>
                      <th scope="col">ID</th>
                      <th scope="col">ID configuracion</th>
                      <th scope="col">Nombre</th>
                      <th scope="col">Fecha inicio</th>
                      <th scope="col">Estado</th>
                      <th scope="col">Fecha final</th>
                    </tr>
                  </thead>
                  <tbody class="table-group-divider">
                    <tr>
                      <th scope="row">{{instancia.id}}</th>
                      <td>{{instancia.idConfiguracion}}</td>
                      <td>{{instancia.nombre}}</td>
                      <td>{{instancia.fecha_inicio}}</td>
                      <td>{{instancia.estado}}</td>
                      <td>{{instancia.fecha_final}}</td>
                    </tr>
                  </tbody>
                </table>
                </div>
              </div>
            {% endfor %}
          {% endfor %}
          <div class="row">
            <div class="col offset-3">
                <span class="badge text-bg-info" style="margin-top: 30px;">
                    <h2>RECURSOS PENDIENTES DE FACTURAR</h2>
                </span>
            </div>
          </div>
          <div class="row justify-content-center align-items-center g-2" style="margin-top: 30px;">
            <div class="col-8">
            <table class="table table-dark table-sm table-bordered">
              <thead>
                <tr>
                  <th scope="col">NIT Cliente</th>
                  <th scope="col">ID Instancia</th>
                  <th scope="col">Tiempo</th>
                  <th scope="col">Fecha Hora</th>
                </tr>
              </thead>
              <tbody class="table-group-divider">
          {% for recurso in consumos.lista_consumos %}
          {% if recurso.facturado == '0' %}
                  <tr>
                    <th scope="row">{{recurso.nitCliente}}</th>
                    <td>{{recurso.idInstancia}}</td>
                    <td>{{recurso.tiempo}}</td>
                    <td>{{recurso.fecha_hora}}</td>
                  </tr>
          {% endif %}
          {% endfor %}
        </tbody>
      </table>
      </div>
    </div>
        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-OERcA2EqjJCMA+/3y+gxIOqMEjwtxJY7qPCqsdltbNJuaOe923+mo//f6V8Qbsw3" crossorigin="anonymous"></script>
  </body>
</html>